  version: 2.1
  orbs:
    terraform: circleci/terraform@3.0.0
  jobs:
    single-job-lifecycle:
      executor: terraform/default
      working_directory: "~/src"
      steps:
        - checkout
        - terraform/init:
            path: "./1-IAC-Terraform"
        - terraform/validate:
            path: "./1-IAC-Terraform"
        - terraform/fmt:
            recursive: true
            path: "./1-IAC-Terraform"
        - terraform/plan:
            path: "./1-IAC-Terraform"
  workflows:
    single-job-lifecycle:
      jobs:
        - single-job-lifecycle